import{d as v,p as w,l as k,o as n,c as D,w as S,e as r,f as g,a,t as _,v as b,W as I,F as B,h as C,b as E}from"./app.e180e75f.js";import{_ as M}from"./FrontLayout.e7a2053f.js";import{R as V}from"./ReportList.18a63911.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./moment.719f1dc2.js";/* empty css                                                             */import{u as T}from"./event.b6d9585d.js";import{u as j}from"./tournament.aa996f97.js";import"./water-waves.ef79fb3a.js";/* empty css                                                                   */const F={key:0},z={key:0},O={key:1,class:"block-content"},P={class:"title-section"},U={class:"title-section hide-underline"},W={style:{display:"flex","justify-content":"space-between","align-items":"center"}},$={class:"text-capitalize"},q=["value","checked"],A={class:"single-post-box"},G={__name:"Index",props:{slug:{type:String},page:{type:String}},setup(m){const c=m,e=T(),y=j(),o=v([]),s=v(null),u=v([]),d=v(1),f=()=>{let{available_days:l}=e.eventData.data;return Object.values(l).toString()};async function h(l){if(l>d.value)return;await e.getLiveReport(l,c.slug,s.value);const i=e.liveReportList.data.map(t=>t.level).toString();for(const t of u.value)if(t.level===i){const p=e.liveReportList.data.findIndex(R=>R.level===t.level),x=t.collection.concat(e.liveReportList.data[p].collection);t.collection=x;return}d.value=e.liveReportList.meta.last_page}w(async()=>{await e.getEventData(c.slug),await y.getList(),await e.getLiveReport(1,c.slug,f()),u.value=e.liveReportList.data,d.value=e.liveReportList.meta.last_page,s.value=f()});const L=async()=>{await e.getLiveReport(1,c.slug,s.value)};return k(()=>e.eventData.data,function(){o.value=e.eventData.data}),(l,i)=>(n(),D(M,{title:"Event"},{default:S(()=>[o.value?(n(),r("div",F,[u.value?(n(),r("div",z)):g("",!0),(n(),r("div",O,[a("div",P,[a("h1",null,[a("span",null,_(o.value.tournament),1)])]),a("div",U,[a("div",W,[a("h1",null,[a("span",$,_(o.value.title),1)]),a("p",null,[b(a("select",{class:"form-control","onUpdate:modelValue":i[0]||(i[0]=t=>s.value=t),onChange:L},[(n(!0),r(B,null,C(o.value.available_days,(t,p)=>(n(),r("option",{class:"text-center",key:p,value:t,checked:t==s.value}," Day "+_(t),9,q))),128))],544),[[I,s.value]])])])]),a("div",A,[E(V,{event:o.value,reports:u.value,onLoadMore:h,currentTab:m.page},null,8,["event","reports","currentTab"])])]))])):g("",!0)]),_:1}))}},oe=N(G,[["__scopeId","data-v-66ff3638"]]);export{oe as default};
