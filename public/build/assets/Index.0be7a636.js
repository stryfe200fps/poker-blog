import{d as u,p as b,l as D,o as s,c as S,w as I,e as n,f as h,a as o,t as g,v as B,W as C,F as L,h as R,b as E}from"./app.56436720.js";import{_ as M}from"./FrontLayout.53e7ac29.js";import{R as V}from"./ReportList.a25d16a1.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./moment.f09a3ee0.js";/* empty css                                                             */import{u as T}from"./event.288439b7.js";import{u as j}from"./tournament.4ca25c66.js";/* empty css                                                                   */import"./water-waves.c74fef80.js";const F={key:0},P={key:0},z={key:1,class:"block-content"},O={class:"title-section"},U={class:"title-section hide-underline"},W={style:{display:"flex","justify-content":"space-between","align-items":"center"}},$={class:"text-capitalize"},q={key:0},A=["value","checked"],G={class:"single-post-box"},H={__name:"Index",props:{slug:{type:String},page:{type:String}},setup(y){const d=y,e=T(),x=j(),l=u([]),i=u(null),r=u([]),p=u(1),c=u(1),f=()=>{let{available_days:_}=e.eventData.data,t=Object.values(_);return t[t.length-1]};async function k(){if(p.value>=c.value)return;p.value++,await e.getLiveReport(p.value,d.slug,i.value);const _=e.liveReportList.data.map(t=>t.level).toString();for(const t of r.value)if(t.level===_){const m=e.liveReportList.data.findIndex(v=>v.level===t.level),a=t.collection.concat(e.liveReportList.data[m].collection);t.collection=a;return}c.value=e.liveReportList.meta.last_page}b(async()=>{await e.getEventData(d.slug),await x.getList(),await e.getLiveReport(1,d.slug,f()),r.value=e.liveReportList.data,c.value=e.liveReportList.meta.last_page,i.value=f()});const w=async()=>{p.value=1,c.value=1,await e.getLiveReport(1,d.slug,i.value),r.value=e.liveReportList.data,c.value=e.liveReportList.meta.last_page};return D(()=>e.eventData.data,function(){l.value=e.eventData.data}),(_,t)=>(s(),S(M,{title:"Event"},{default:I(()=>{var m;return[l.value?(s(),n("div",F,[r.value?(s(),n("div",P)):h("",!0),(s(),n("div",z,[o("div",O,[o("h1",null,[o("span",null,g(l.value.tournament),1)])]),o("div",U,[o("div",W,[o("h1",null,[o("span",$,g(l.value.title),1)]),((m=l.value.available_days)==null?void 0:m.length)>1?(s(),n("p",q,[B(o("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),onChange:w},[(s(!0),n(L,null,R(l.value.available_days,(a,v)=>(s(),n("option",{class:"text-center",key:v,value:a,checked:a==i.value}," Day "+g(a),9,A))),128))],544),[[C,i.value]])])):(s(!0),n(L,{key:1},R(l.value.available_days,(a,v)=>(s(),n("p",{key:v}," Day: "+g(a),1))),128))])]),o("div",G,[E(V,{event:l.value,reports:r.value,onLoadMore:k,currentTab:y.page},null,8,["event","reports","currentTab"])])]))])):h("",!0)]}),_:1}))}},oe=N(H,[["__scopeId","data-v-dead773a"]]);export{oe as default};
