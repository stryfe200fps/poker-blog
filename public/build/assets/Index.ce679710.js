import{d as u,p as k,l as D,o,c as S,w as I,e as n,f as L,a as s,t as g,v as B,W as C,F as R,h as w,b as E}from"./app.0b0e01ef.js";import{_ as M}from"./FrontLayout.dc8ede95.js";import{R as N}from"./ReportList.319dbadb.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";import"./moment.43362201.js";/* empty css                                                             */import{u as T}from"./event.e2786cb2.js";import{u as j}from"./tournament.a4a49ba8.js";import"./water-waves.6f599983.js";/* empty css                                                                   */const F={key:0},P={key:0},z={key:1,class:"block-content"},O={class:"title-section"},U={class:"title-section hide-underline"},W={style:{display:"flex","justify-content":"space-between","align-items":"center"}},$={class:"text-capitalize"},q={key:0},A=["value","checked"],G={class:"single-post-box"},H={__name:"Index",props:{slug:{type:String},page:{type:String}},setup(y){const p=y,e=T(),x=j(),l=u([]),i=u(null),r=u([]),d=u(1),c=u(1),h=()=>{let{available_days:_}=e.eventData.data,t=Object.values(_);return t[t.length-1]};async function b(){if(d.value>=c.value)return;d.value++,await e.getLiveReport(d.value,p.slug,i.value);const _=e.liveReportList.data.map(t=>t.level).toString();for(const t of r.value)if(t.level===_){const m=e.liveReportList.data.findIndex(v=>v.level===t.level),a=t.collection.concat(e.liveReportList.data[m].collection);t.collection=a;return}c.value=e.liveReportList.meta.last_page}k(async()=>{await e.getEventData(p.slug),await x.getList(),await e.getLiveReport(1,p.slug,h()),r.value=e.liveReportList.data,c.value=e.liveReportList.meta.last_page,i.value=h()});const f=async()=>{d.value=1,c.value=1,await e.getLiveReport(1,p.slug,i.value),r.value=e.liveReportList.data,c.value=e.liveReportList.meta.last_page};return D(()=>e.eventData.data,function(){l.value=e.eventData.data}),(_,t)=>(o(),S(M,{title:"Event"},{default:I(()=>{var m;return[l.value?(o(),n("div",F,[r.value?(o(),n("div",P)):L("",!0),(o(),n("div",z,[s("div",O,[s("h1",null,[s("span",null,g(l.value.tournament),1)])]),s("div",U,[s("div",W,[s("h1",null,[s("span",$,g(l.value.title),1)]),((m=l.value.available_days)==null?void 0:m.length)>1?(o(),n("p",q,[B(s("select",{class:"form-control","onUpdate:modelValue":t[0]||(t[0]=a=>i.value=a),onChange:f},[(o(!0),n(R,null,w(l.value.available_days,(a,v)=>(o(),n("option",{class:"text-center",key:v,value:a,checked:a==i.value}," Day "+g(a),9,A))),128))],544),[[C,i.value]])])):(o(!0),n(R,{key:1},w(l.value.available_days,(a,v)=>(o(),n("p",{key:v}," Day: "+g(a),1))),128))])]),s("div",G,[E(N,{event:l.value,reports:r.value,onLoadMore:b,onShowNewReport:f,currentTab:y.page},null,8,["event","reports","currentTab"])])]))])):L("",!0)]}),_:1}))}},se=V(H,[["__scopeId","data-v-4b782371"]]);export{se as default};
